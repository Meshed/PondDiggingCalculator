# Story 1.1: Project Foundation Setup

## Status
Draft

## Story
**As a** developer,
**I want** to establish the core Elm project structure with testing framework,
**so that** I have a reliable foundation for building calculation features with confidence in code quality.

## Acceptance Criteria
1. Elm project initialized with elm.json configuration and src/ directory structure
2. Elm testing framework configured with example test that passes
3. Basic build process established that compiles Elm to JavaScript without errors
4. Git repository initialized with appropriate .gitignore for Elm projects
5. README.md created with project setup and build instructions

## Tasks / Subtasks
- [ ] Initialize Elm project structure (AC: 1)
  - [ ] Run `elm init` to create elm.json
  - [ ] Create complete frontend/src/ directory structure following unified project structure:
    - [ ] Create frontend/src/Types/ directory (Model.elm, Equipment.elm, Validation.elm, Messages.elm)
    - [ ] Create frontend/src/Components/ directory
    - [ ] Create frontend/src/Pages/ directory
    - [ ] Create frontend/src/Utils/ directory (Config.elm, Storage.elm included)
    - [ ] Create frontend/src/Styles/ directory (Theme.elm included)
  - [ ] Create Main.elm entry point with basic Elm Architecture
  - [ ] Set up Elm package dependencies for core functionality
- [ ] Configure testing framework (AC: 2)
  - [ ] Add elm-test package to elm.json dependencies
  - [ ] Create complete frontend/tests/ directory structure:
    - [ ] Create frontend/tests/Unit/ directory
    - [ ] Create frontend/tests/Integration/ directory
  - [ ] Create example unit test (MainTests.elm) that verifies basic functionality
  - [ ] Verify test runs and passes with `elm-test`
- [ ] Create configuration system (Required for Story 1.3 defaults)
  - [ ] Create frontend/public/config.json with default equipment values
  - [ ] Create Utils/Config.elm module for loading configuration
  - [ ] Implement JSON decoder for configuration data
  - [ ] Set up local storage integration for config persistence
- [ ] Create HTML template and build process (AC: 3)
  - [ ] Create frontend/public/index.html with proper Elm app mounting
  - [ ] Configure Parcel bundler for Elm compilation
  - [ ] Create package.json with build scripts (dev, build, test)
  - [ ] Set up Tailwind CSS configuration early in build process
  - [ ] Verify build compiles without errors and serves HTML correctly
- [ ] Configure version control (AC: 4)
  - [ ] Initialize git repository if not exists
  - [ ] Create .gitignore with Elm-specific patterns
  - [ ] Add elm-stuff/, node_modules/, dist/ to .gitignore
- [ ] Create project documentation (AC: 5)
  - [ ] Create README.md with project overview
  - [ ] Document installation and setup instructions
  - [ ] Document build and development commands
  - [ ] Include testing instructions

## Dev Notes

### Previous Story Insights
This is the first story in the project - no previous story context available.

### Tech Stack Configuration
[Source: architecture/tech-stack.md]
- **Frontend Language**: Elm 0.19.1 for type-safe functional programming
- **CSS Framework**: Tailwind CSS 3.4+ for utility-first styling  
- **Build Tool**: Elm Compiler 0.19.1 for compilation to JavaScript
- **Bundler**: Parcel 2.0+ for zero-config bundling with hot reload
- **Testing**: elm-test 0.19.1 for unit and integration testing
- **CSS Type Safety**: elm-css or typed modules for type-safe CSS classes
- **Configuration Storage**: JSON config files for equipment defaults and validation rules
- **Client Storage**: Browser LocalStorage for simple persistence

### Complete Project Structure Requirements
[Source: architecture/unified-project-structure.md]
The frontend structure must follow these exact paths:
```
frontend/
├── src/
│   ├── Main.elm                    # Application entry point
│   ├── Types/
│   │   ├── Model.elm              # Core application state
│   │   ├── Equipment.elm          # Equipment domain types
│   │   ├── Validation.elm         # Validation types and errors
│   │   └── Messages.elm           # Application messages
│   ├── Components/
│   │   ├── EquipmentCard.elm      # Equipment display component
│   │   ├── EquipmentList.elm      # Fleet management component
│   │   ├── ProjectForm.elm        # Project configuration form
│   │   ├── ResultsPanel.elm       # Results display component
│   │   └── ValidationMessage.elm  # Error message component
│   ├── Pages/
│   │   ├── Desktop.elm           # Desktop/tablet interface
│   │   ├── Mobile.elm            # Mobile interface
│   │   └── Common.elm            # Shared page elements
│   ├── Utils/
│   │   ├── Validation.elm        # Input validation functions
│   │   ├── Calculations.elm      # Core calculation engine
│   │   ├── Formatting.elm        # Display formatting
│   │   ├── Storage.elm           # Local storage operations
│   │   └── Config.elm            # Configuration loading
│   └── Styles/
│       ├── Theme.elm             # Tailwind class definitions
│       ├── Components.elm        # Component-specific styles
│       └── Responsive.elm        # Device-specific styling
├── public/
│   ├── index.html                # Main HTML template
│   ├── config.json               # Application configuration
│   ├── favicon.ico               # Site favicon
│   └── manifest.json             # PWA manifest (future)
├── tests/
│   ├── Unit/
│   │   ├── CalculationTests.elm  # Calculation engine tests
│   │   ├── ValidationTests.elm   # Validation function tests
│   │   └── MainTests.elm         # Main application tests
│   └── Integration/
│       └── ComponentTests.elm    # UI component integration tests
├── elm.json                      # Elm package configuration
├── package.json                  # Node.js build dependencies
├── tailwind.config.js            # Tailwind CSS configuration
├── parcel.json                   # Parcel bundler configuration
└── README.md                     # Frontend development guide
```

### Configuration File Structure
[Source: architecture/api-specification.md]
The config.json file must contain default values for immediate utility:
```json
{
  "version": "1.0.0",
  "defaults": {
    "excavator": {
      "bucketCapacity": 2.5,
      "cycleTime": 2.0,
      "name": "Standard Excavator"
    },
    "truck": {
      "capacity": 12.0,
      "roundTripTime": 15.0,
      "name": "15-yard Dump Truck"
    },
    "project": {
      "workHoursPerDay": 8.0,
      "pondLength": 50.0,
      "pondWidth": 30.0,
      "pondDepth": 6.0
    }
  },
  "validation": {
    "excavatorCapacity": { "min": 0.5, "max": 15.0 },
    "cycleTime": { "min": 0.5, "max": 10.0 },
    "truckCapacity": { "min": 5.0, "max": 30.0 },
    "roundTripTime": { "min": 5.0, "max": 60.0 },
    "workHours": { "min": 1.0, "max": 16.0 },
    "pondDimensions": { "min": 1.0, "max": 1000.0 }
  }
}
```

### HTML Template Requirements
[Source: architecture/deployment-architecture.md]
The index.html must include:
- Proper Elm app mounting point
- Tailwind CSS integration
- Basic responsive viewport meta tag
- Title and favicon references

### Package.json Build Scripts
[Source: architecture/development-workflow.md]
Required scripts:
```json
{
  "scripts": {
    "dev": "parcel serve frontend/public/index.html",
    "build": "parcel build frontend/public/index.html",
    "test": "elm-test",
    "test:watch": "elm-test --watch"
  }
}
```

### Coding Standards
[Source: architecture/coding-standards.md]
- **Type Safety First**: Use Elm's type system to prevent runtime errors
- **Pure Function Calculations**: All calculation logic must be pure functions
- **Configuration Over Code**: Use JSON config files, never hardcode values
- **Immutable State Updates**: Always create new data structures through Elm's update functions
- **Tailwind Class Constants**: Define Tailwind classes as Elm constants in Theme module
- **Test-Driven Development**: All functions must have unit tests before implementation

### File Locations
[Source: architecture/unified-project-structure.md]
- Main entry point: `frontend/src/Main.elm`
- HTML template: `frontend/public/index.html`
- Configuration: `frontend/public/config.json`
- Package config: `frontend/elm.json`
- Build config: `frontend/package.json`
- CSS config: `frontend/tailwind.config.js`
- Test files: `frontend/tests/Unit/` and `frontend/tests/Integration/`

### Testing Requirements
[Source: architecture/testing-strategy.md]
- **Test Framework**: elm-test 0.19.1 for unit and integration testing
- **Test Organization**: Separate Unit/ and Integration/ directories under tests/
- **Test File Naming**: Tests should be named descriptively with underscores (e.g., `should_initialize_with_default_state`)
- **Test Structure**: Use `describe` and `test` functions for organization
- **Example Test Location**: `frontend/tests/Unit/MainTests.elm` for testing Main.elm functionality

### Technical Constraints
[Source: architecture/tech-stack.md]
- Elm version: 0.19.1 (exact version required)
- Parcel version: 2.0+ for bundling
- Tailwind CSS version: 3.4+ for styling
- No backend in MVP - pure client-side application
- Browser LocalStorage for simple persistence
- JSON configuration files for defaults and validation rules

## Testing
[Source: architecture/testing-strategy.md]
- **Test File Location**: `frontend/tests/Unit/` for unit tests, `frontend/tests/Integration/` for integration tests
- **Test Standards**: Use elm-test framework with descriptive function names using underscores
- **Testing Framework**: elm-test 0.19.1 built-in test runner for Elm
- **Test Pattern**: Create example test in `MainTests.elm` that verifies basic application initialization
- **Test Requirements**: Tests must pass before story completion
- **Test Naming**: Use descriptive names like `should_initialize_with_default_state`
- **Test Organization**: Use `describe` and `test` functions for proper structure
- **Required Test Files**: MainTests.elm in Unit/ directory as foundation test

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-08-05 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be filled by development agent*

### Debug Log References
*To be filled by development agent*

### Completion Notes List
*To be filled by development agent*

### File List
*To be filled by development agent*

## QA Results
*Results from QA Agent review will be added here after implementation*